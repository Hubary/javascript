<!DOCTYP
E html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript">
			function red(){
				console.log('red - ',new Date().getSeconds());	
			}
			function green(){
				console.log('green - ',new Date().getSeconds());	
			}
			function yellow(){
				console.log('yellow - ',new Date().getSeconds());	
			}
			
			var promise = new Promise(function(resolve,rejec){
				resolve();
			})
			function tic(color,timer){
				return new Promise(function(resolve,reject){
					setTimeout(function(){
						color();
						resolve();
					},timer)	
				})
			}
			
			function loop(){
				promise.then(function(){
					return tic(red,3000);
				}).then(function(){
					return tic(green,2000);
				}).then(function(){
					return tic(yellow,1000);				
				}).then(function(){
					loop();
				})	
			}
			loop();
			
		</script>
	</head>

	<body>
	</body>

</html>